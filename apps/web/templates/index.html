<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A music analysis app">
    <meta name="author" content="Brian Mai">
    <title>Museko</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='mu.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

</head>
<body>
    <div>
        <div id="header">
            <h2>Museko; <span style="color: gray;">music <a>classification</a> and <a>discovery</a> tool</span></h1>
        </div>
        <div id="download">
            <div id="download-container">
                <h3>Download file with URL (via <a href="https://github.com/yt-dlp/yt-dlp" target="_blank">yt-dlp</a>)</h3>
                <p>Supports YouTube, SoundCloud, and <a href="https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md" target="_blank">more</a>.</p>
                <form id="mp3-download" method="post" action="/download">
                    <input type="text" name="url" id="urlInput" placeholder="Enter URL here" size="19">
                    <input id="download-button" type="submit" value="Download">
                    <br>
                    <span id="download-status"></span>
                </form>
            </div>
        </div>

        <div id="upload">
            <div id="upload-container">
                <h3>Upload file for analysis (.mp3, .flac, .wav)</h3>
                <form id="mp3-upload" method="post" action="/upload" enctype="multipart/form-data">
                    <input type="file" name="file" id="file-input">
                    <input id="upload-button" type="submit" value="Upload">
                    <span id="upload-status"></span>
                </form>
            </div>
        </div>

        <div id="result-container">
            <div id="visualizer">
                <h3 id="file-title"></h3>
                <p id="visualizer-label">x=frequency, y=decibels</p>
                <div id="visualizer-container">
                    <img src="{{ url_for('static', filename='alovesupreme.webp') }}" style="height: 100%;">

                </div>
            </div>
    
            <div id="genre-plot">
                <div id="fig-loader"></div>
                <img id="matplotlib-fig">
                <div id="analysis">
                    <p id="bpm"></p>
                    <p id="key"></p>
                </div>
            </div>
            <div id="footer">Last updated on 23 December 2025. Source code available on <a href="https://github.com/bmai1/museko/tree/main/apps/web" target="_blank">GitHub</a>.</div>
        </div>


    </div>
     
    <script src="{{ url_for('static', filename='drag.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='display.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='audioVisualizer.js') }}"></script>
</body>
</html>

